# MegSpot

<p align="center">
  <img width="250"  src="./src/renderer/assets/images/logo.png">
</p>

[English](README.md) | 中文

**MegSpot**旨在提供免费免登录、高效、专业、跨平台的图片&视频的对比工具。

## 特点

- 支持叠加对比、分割对比、GIF 结果呈现。
- 支持像素级图片查看、图片直方图、RGBA 查看。
- 及时调整亮度、对比度、饱和度、灰度等指标进行预览。
- Mac，Linux,Window 跨平台支持&支持自动更新。
- 支持命令快捷启动。
- 多语言支持：汉语、英语、日语

---

## 下载安装

## 功能介绍

- [图片对比](#图片对比)
  - [选中操作(推荐了解)](#选中)
  - [普通对比](#普通对比)
  - [拖拽对比](#拖拽对比)
  - [图片查看器](#图片查看器)
- [视频对比](#视频对比)
  - [选择不同视频的任意截屏进行图片对比](#视频截屏对比)
- [文件选择](#文件选择)
  - [文件列表](#文件列表)
  - [文件长廊](#文件长廊)
- [Linux 支持命令启动](#linux-命令启动)
- [帮助视频](#帮助视频)
- [自动更新](#自动更新)

### 文件选择

**MegSpot** 在本地会存储**两个文件路径列表**，分别对应“**[图片对比](#图片对比)**”和 **“[视频对比](#视频对比)”**的文件路径列表，并且你可以从“**[文件列表](#文件列表)**”或“**[文件长廊](#文件长廊)**”这路径列表中存储的文件路径**实时的快速增删**，方便你对剩下的图像或视频进行对比等操作。

同样的， **MegSpot** 还会在本地存储**两个文件夹路径列表，** 方便在常用的文件夹中切换，便于快速选择文件 。

> Tips:
>
> 1.  如果你从“**[图片对比](#图片对比)**”进入“**[文件选择](#文件选择)**”页面，那么当前操作的便是 **“图片对比”**相对应的**图像文件路径列表**和**图像文件夹路径列表**；反之，则是“**[视频对比](#视频对比)**”相对应的**视频文件路径列表**和**视频文件夹路径列表**；
> 2.  **文件列表默认只显示图片或视频格式的文件，若要显示全部，可打开“<a href="#showAll">显示全部</a>”的选择框；**
> 3.  “**[文件列表](#文件列表)**”或“**[文件长廊](#文件长廊)**”对文件路径列表的操作时**实时同步**的，**且会影响到你目前正在对比的图片或视频。**

#### 文件列表

### 说明

从首页点击“**[图片对比](#图片对比)**”或“**[视频对比](#视频对比)**”后，都会先进入各自的“**[选择文件页面](#文件选择)**”，如下图所示。

- 操作栏
  - **添加文件夹**: 打开系统的文件选择器， 可选择一个文件夹加入到当前的文件夹路径列表
  - **已选**： 打开当前的 **[文件长廊](#文件长廊)**
  - **[对比](#拖拽对比)**： 进入图片对比界面
  - **[拖拽对比](#拖拽对比)**：进入图片的拖拽对比页面
  - **[图片查看器](#图片查看器)**：进入图片查看器，对某一图片精细查看
- 选择、添加文件夹
  - **输入框: 显示当前文件夹路径， 可手动输入文件夹路径进跳转**
  - **添加文件夹： 将当前文件夹路径加入到文件夹路径列表中，左侧会显示**
- 文件显示设置
  - **<a id="showAll">显示全部</a>**： 显示所有格式的文件(默认只显示图像或视频格式的文件)；
  - ![img](https://i.loli.net/2021/10/27/txsV2XcBhkr79Ii.png)： 切换文件显示模式， 只显示文字信息或显示**图像卡片** ![img](https://i.loli.net/2021/10/27/HNW6BCKbwemyTUc.png)
- 文件列表：
  - **点击勾选**即将其文件路径**加入**到**当前文件路径列表**，反之 **取消勾选** 则将其文件路径从**当前文件路径列表**中**移除**
  - 若文件标题过长部分文件不显示， 可**悬浮查看具体标题**
- 文件夹列表
  - 悬浮某文件夹项，即可出现**刷新和移除按钮**，点击移除即可将其文件夹路径从当前文件夹路径列表中**移除**

![img](https://i.loli.net/2021/10/27/ioSO1s4UbJT2XMv.png)

![img](https://i.loli.net/2021/10/27/pAZ8XyaO9EuJv4P.png)

#### 文件长廊

#### **打开**：

点击 按钮”已选“即可打开“**[文件长廊](#文件长廊)**”。

#### **关闭**：

打开后点击任意其他区域即可关闭。

#### **操作**：

- **悬浮**至某文件**标题**，可查看其具体路径；
- 悬浮至某文件上， 其右上角会出现**删除**按钮， **点击删除**后即可将该文件路径从相应文件路径列表中**移除**

#### 效果图

![file-gallery](https://i.loli.net/2021/10/27/OVM2HTK4s6i7cYe.png)

### 选中

使用场景： [**图片对比**](#图片对比)、 [**视频对比中的图片对比**](#视频截屏对比)

特性如下：

- 选中状态
  - 至多存在**一个**图像框被选中
  - 双击某一图像框的任意区域，即可选中该图像框，此时会取消其他图像的选中状态
  - 再次双击**已选中的**图像框，即可取消选中状态
- 存在选中状态的图像时的操作
  - 存在选中状态的图像时
    - **旋转**、**图像自适应**、**显示为原图**这三个操作将仅生效于已选中的图像
    - **自动对齐**功能将以选中图片为目标图片
    - 鼠标对图像的**缩放**、**拖拽**功能将仅应用于选中图片及当前鼠标所在图像框的图像

### 图片对比

#### 普通对比

如下图所示，主要由**工具栏**及多个**图像框**构成。

**!!!** 在了解页面布局的同时，你可能还需要了解**MegSpot**中非常有意思的一个特色操作—— **[选中](#选中)**

- 工具栏
  - **返回**: 返回上个页面，即 **[文件选择页](#文件选择)**
  - **已选**: 打开**文件长廊**，便于对当前对比页面的图像进行**改变排序**、**移除**等操作
  - **最邻近/双线性**: 切换成像策略的**插值算法**
  - **叠加对比**：
    - 向左叠加
    - 向右叠加
    - 向下叠加
    - 向上叠加
  - **生成 GIF 动态对比图**：
  - **图像翻转**：
    - 顺时针旋转 90°
    - 左右镜像翻转
    - 上下镜像翻转
  - **对齐、自适应、原图**：
    - **自动对齐(图像大小不改变)：** 以**选中的图像**或**第一个图像**做参考，使其他图像的左上角与其对齐，但不改变其他图像大小；
    - **自动对齐(图像大小改变)：** 以**选中的图像**或**第一个图像**做参考，使其他图像的左上角与其对齐，且其他图像大小也与其相同；（使其他图像**完全复制**目标图像的**位置与大小**）
    - 图像自适应：**仅使选中图像**或**使所有图像**，在尽量占满其相应图像框，居中对齐；
    - 图像原图：**仅使选中图像**或**使所有图像**，显示为其原图大小
  - 切换布局： 从可选布局中选择图像布局， 如下图所示的即为 2 X 2 布局
- 图像框
  - 直方图
  - **检测框(取色器)、rgb 值及设置**：
    - 鼠标在图像框内**单击一次**即可打开或关闭检测框，检测框将跟随鼠标移动，
    - 并且右上角**rgb 值显示区域**将实时显示检测区域的**RGB 值**
    - 单机**齿轮**图标按钮，即可出现**设置检测狂框大小**的提示栏
  - **图像参数设置： 单击![eye](https://i.loli.net/2021/10/27/LAlWmVQuh7kwqpY.png)图标按钮， 即可**出现**设置图像参数**的提示栏
  - **缩放比例**：左下角实时显示当前图像相对于其原图大小的**缩放比例**

![image_compare](https://i.loli.net/2021/10/27/vpg2qK9wmWyidc3.png)

#### 拖拽对比

从用户已选中的图片中，分割对比前两张图片

![drag-compare](https://i.loli.net/2021/10/27/3pFRiou8ZOVTx4Q.png)

#### 图片查看器

#### 概述

通过页面查看器进入。基于 OpenCV 完成图片查看功能，包括：缩放，拖拽，直方图，RGBA 值获取等。

#### 效果图

![img](https://i.loli.net/2021/10/27/ImMiC5ynUGLE9Yr.png)

#### 说明

##### 图片切换：

保持当前的可视区域（roi)和图片效果切换图片。从已选图片切换至上一张，或者下一张。方便两张图的局部比较。 如果图片太小无法展示完整的 roi 就是以自适应的方式展示。

##### 图片展示方式：

以填充方式显示（以宽 100%或者高 100%，多余部分不显示）、原图显示。这只是辅助用户快速定位查看区域而已

##### 插值算法设置：

支持 OpenCV 提供的多种插值算法。

##### 图片展现调整：

调整亮度，对比度，饱和度，灰度，透明度，模糊度等多种参数。 但是不影响直方图数据和 RGBA 数据的获取。

##### RGB 均值展示：

根据鼠标位置，和用户设置的范围计算均值。双击开启和停止获取。 RGB 可以选中复制。

##### 直方图：

获取现在展示区域内容的直方图，拖动缩放及时更新。可折叠。

##### 鹰眼图：

辅助显示当前展示区域在原图中的位置。

### 视频对比

​ 视频对比分为[**视频预览**](#视频预览)与[**视频截屏对比**](#视频截屏对比)两个页面

#### 视频预览

​ 从这可以选择不同视频，并使视频在想要对比的某一瞬间的画面暂停，随后点击[**图片对比**](#图片对比)即可进入[**视频截屏对比**](#视频截屏对比)模式![video-compare-1](https://s6.jpg.cm/2021/10/27/IzxpRi.png)

#### 视频截屏对比

​ 这里的操作几乎与[**图片对比**](#图片对比)的相同，请参考[**图片对比**](#图片对比)

![video-compare-2](https://s6.jpg.cm/2021/10/27/IzxkC8.png)

### linux 命令启动

#### 支持传入文件夹或文件地址，支持相对和绝对路径

- -h / --help: 查看说明文档
- -i /--image: image 比较 是默认选项
- -v/ --video: 视频比较
- -c/ --clear: 是否清空之前已选文件 默认不清空

#### 实例

- ./MegSpot 进入主页
- ./MegSpot -i 进入图片对比
- ./MegSpot -v 进入视频对比
- ./MegSpot path 图片比较当前目录 进入选择文件页面 使用当前的 path
- ./MegSpot path -v 视频比较当前目录 进入选择文件页面 使用当前的 path
- ./MegSpot filePath1 filePath2 filePath3 ... 图片/视频比较已选文件 -v 比较视频 -c 清空之前已选文件 可以-v -c 也可以 -vc -cv

### 视频介绍

---

首页有滚动循环播放的帮助视频的轮播图，这些帮助视频简单介绍了各个功能的使用方法及要点。

![help-video](https://i.loli.net/2021/10/27/6tM4bFwrdl2ufsZ.png)

### 自动更新

---

#### 版本支持

windows 和 linux 系统的 1.2.0 以及之后的版本 mac 版暂不支持，因为需要付费购买代码证书。

#### 检测新版本时机

- 每次启动时

- 启动后每小时

#### 补充建议：

1. 由于 MegSpot 支持自动更新导致 MegSpot-x.x.x.AppImage 的文件名称不断变化 建议创建个硬链接指向 AppImage
   创建命令：sudo ln ./MegSpot-x.x.x.AppImage /usr/bin/MegSpot
2. 并将硬链接添加到\$PATH 中 方便全局启动。

---

## 通过源码编译安装

```bash
# 安装依赖
npm install or yarn install

# 启动
npm run dev

# 查看package.json中的script字段，有相关构建脚本 默认打包当前机器环境安装包
npm run build

# 打包当前机器平台之外的平台

npm run build:mac

npm run build:win64

npm run build:win32

npm run build:all
```

---

## 如何参与贡献

- MegSpot 依据 [贡献者公约（Contributor Covenant）](https://contributor-covenant.org)来管理开源社区。请阅读 [行为准则](CODE_OF_CONDUCT.md) 了解更多信息。
- 每一名贡献者都需要签署贡献者许可协议（Contributor License Agreement，CLA）来明确贡献内容相关的知识产权许可。更多细节请参考 [协议内容](CONTRIBUTOR_LICENSE_AGREEMENT.md)。
- 我们欢迎你通过以下方式来帮助 MegSpot 变得更好：
  - 贡献代码；
  - 完善[文档](https://github.com/MegSpot/Docs)；
  - 在 [MegSpot 论坛](https://discuss.megengine.org.cn) 和 Stack Overflow 回答问题；
  - 报告使用中的 [Bugs 和 Issues](https://github.com/MegSpot/MegSpot/issues)；
  - 审查 [Pull Requests](https://github.com/MegSpot/MegSpot/pulls)；
  - 给 MegSpot 点亮小星星；
  - 在你的论文和文章中引用 MegEngine；
  - 向你的好友推荐 MegEngine；
  - ...

---

## 联系我们

- 问题: [github.com/MegSpot/MegSpot/issues](https://github.com/MegSpot/MegSpot/issues)
- 邮箱: [megengine-support@megvii.com](mailto:megengine-support@megvii.com)
- 论坛: [discuss.megengine.org.cn](https://discuss.megengine.org.cn)
- QQ: 1029741705
- OPENI: [openi.org.cn/MegSpot](https://www.openi.org.cn/html/2020/Framework_0325/18.html)

---

## 开源许可

MegSpot 使用 Apache License, Version 2.0

Copyright (c) 2014-2021 Megvii Inc. All rights reserved.
